"use strict";(self.webpackChunkslim_mom_frontend=self.webpackChunkslim_mom_frontend||[]).push([[757],{757:function(e,s,a){a.r(s),a.d(s,{default:function(){return C}});var r=a(5861),n=a(885),i=a(4687),t=a.n(i),o="RegistrationPage_container__o9QxY",l="RegistrationPage_title__pXe0V",m="RegistrationPage_text__fWsu9",c="RegistrationPage_infoContainer__4Qzr7",d="RegistrationPage_block__CFZqZ",u=a(350),g=a(959),_=a(6473),h=a(8870),p=a(9849),v={loginForm:"RegistrationForm_loginForm__PNfPw",googleBtn:"RegistrationForm_googleBtn__32hWw",formInput:"RegistrationForm_formInput__m+H0J",passInput:"RegistrationForm_passInput__m655N",btnCont:"RegistrationForm_btnCont__GcnzE",pswdVisBtn:"RegistrationForm_pswdVisBtn__lIwYN",pswdBtnImg:"RegistrationForm_pswdBtnImg__ZD7sr",errorMessage:"RegistrationForm_errorMessage__I5ZMQ"},x=a(9434),f=a(5705),N=a(2797),j=a(2791),w=a(8724),P=a(184),R={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,F=void 0===R?"http://localhost:4000/aoi":R,I=N.Ry().shape({name:N.Z_().min(2,"Name length must be at least 2 characters long").required("Name is required"),email:N.Z_().email("Invalid email").required("Email is required"),password:N.Z_().min(6,"Password must contain 6 or more characters!").required("Password is required")}),b=function(){var e=(0,j.useState)(!1),s=(0,n.Z)(e,2),a=s[0],r=s[1],i=(0,x.I0)(),t=(0,j.useState)(""),o=(0,n.Z)(t,2),l=o[0],m=o[1];return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(f.J9,{initialValues:{name:"",email:"",password:""},validationSchema:I,onSubmit:function(e,s){i((0,w.Ik)(e)).then((function(e){"users/signup/rejected"===(null===e||void 0===e?void 0:e.type)&&m(null===e||void 0===e?void 0:e.payload),console.log(l)})),s.resetForm()},children:function(e){var s=e.handleSubmit,n=e.errors,i=e.touched;return(0,P.jsxs)(f.l0,{className:v.loginForm,children:[(0,P.jsx)(f.gN,{className:v.formInput,type:"name",name:"name",title:"Please enter your name or nickname'",placeholder:"Name *","min-length":"2",required:!0,id:"name"}),n.name&&i.name?(0,P.jsxs)("div",{className:v.errorMessage,children:["* ",n.name]}):null,'"email" must be a valid email'===l&&"Email in use"===l||i.name?null:(0,P.jsx)("div",{className:v.errorMessage,children:l}),(0,P.jsx)(f.gN,{className:v.formInput,type:"email",name:"email",title:"Please enter valid email address, for example  'example@gmail.com'",placeholder:"Email *","min-length":"6",required:!0,id:"email"}),n.email&&i.email?(0,P.jsxs)("div",{className:v.errorMessage,children:["* ",n.email]}):null,'"email" must be a valid email'!==l&&"Email in use"!==l||i.email?null:(0,P.jsx)("div",{className:v.errorMessage,children:l}),(0,P.jsx)(f.gN,{className:v.formInput+" "+v.passInput,type:a?"text":"password",name:"password",title:"Please enter your password. Minimum length 8 symbols",placeholder:"Password *","min-length":"8",required:!0,id:"password"}),(0,P.jsx)("button",{className:v.pswdVisBtn,onClick:function(){r(!a)},type:"button",children:(0,P.jsx)("img",{className:v.pswdBtnImg,src:a?_.Z:h.Z,alt:"Button show/hide password"})}),n.password&&i.password?(0,P.jsxs)("div",{className:v.errorMessage,children:["* ",n.password]}):null,l&&"Password is wrong"===l&&!i.password?(0,P.jsx)("div",{className:v.errorMessage,children:l}):null,(0,P.jsxs)("div",{className:v.btnCont,children:[(0,P.jsx)(p.zx,{isPrimaryButton:!1,text:"Register",width:182,onClick:function(){s()}}),(0,P.jsx)("a",{className:v.googleBtn,href:"".concat(F,"/users/google"),children:(0,P.jsx)("img",{className:v.googleLogo,src:u.Z,alt:"Google logo"})}),(0,P.jsx)("a",{className:v.googleBtn,href:"".concat(F,"/users/facebook"),children:(0,P.jsx)("img",{className:v.googleLogo,src:g.Z,alt:"Facebook logo"})})]})]})}})})},Z=a(4654),k=a(2961),S=a(9085),C=function(){var e=(0,x.v9)(Z.vc),s=(0,x.v9)(Z.r2),a=(0,x.v9)(Z.PR),i=(0,j.useState)(!1),u=(0,n.Z)(i,2),g=u[0],_=u[1],h=(0,j.useState)(10),v=(0,n.Z)(h,2),f=v[0],N=v[1],w=(0,j.useState)("\u0421lick to resend"),R=(0,n.Z)(w,2),F=R[0],I=R[1];(0,j.useEffect)((function(){if(g){var e=setInterval((function(){f<=0?(I("\u0421lick to resend"),_(!1),N(10)):(N(f-1),I(f))}),1e3);return function(){return clearInterval(e)}}}));var C=(0,P.jsx)(P.Fragment,{children:s?(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)("div",{className:c,children:[(0,P.jsxs)("h3",{className:l,children:[a.name,", thank you for registration. We've sent you a verification email."]}),(0,P.jsx)("p",{className:m,children:"If you've not recieve this email"}),(0,P.jsx)(p.zx,{isPrimaryButton:!1,text:"".concat(F),width:182,isDisabled:g,onClick:(0,r.Z)(t().mark((function e(){var s,r,n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.ZP.post("/users/verificate",{email:a.email});case 3:s=e.sent,_(!0),S.Am.success(s.data.message),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),S.Am.error(null===(r=e.t0.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))})]})}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("h3",{className:l,children:"Register"}),(0,P.jsx)(b,{})]})});return(0,P.jsx)("main",{children:(0,P.jsx)("div",{className:o,children:e?(0,P.jsx)("div",{className:d,children:(0,P.jsx)(p.aN,{})}):C})})}}}]);
//# sourceMappingURL=757.db2b3ba0.chunk.js.map